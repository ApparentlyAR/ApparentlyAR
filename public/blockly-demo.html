<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/jpeg" href="./logo.jpg">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
  <title>ApparentlyAR</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            bg: "#0f1320",
            panel: "#171c2b",
            panel2: "#1e2436",
            text: "#e7ebff",
            muted: "#a9b4d0",
            accent: "#6ea8fe",
            accent2: "#7ee6c8",
            warn: "#ffce73",
            error: "#ff8a8a",
            ok: "#8ff0a4",
            chip: "#2a3350",
            border: "#2b3350",
          },
          boxShadow: {
            inset: "inset 0 2px 0 #0a0d18",
          },
        },
      },
    };
  </script>
  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <script src="https://unpkg.com/blockly/javascript_compressed.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.js"></script>
  <!-- Custom Blockly blocks -->
  <script src="../src/blocks/csv_import.js"></script>
  <script src="../src/blocks/to_json.js"></script>
  <style>
    /* Grid template areas utility */
    [data-areas="desktop"] {
      grid-template-areas:
        "topbar topbar topbar"
        "blocks stage data"
        "guide guide guide";
    }
    @media (max-width: 980px) {
      [data-areas="desktop"] {
        grid-template-areas:
          "topbar"
          "stage"
          "blocks"
          "data"
          "guide";
        grid-template-columns: 1fr !important;
        grid-template-rows: 56px 1fr auto auto 140px !important;
        height: auto !important;
        min-height: 100vh;
      }
    }
    .camera-checker {
      background-image: linear-gradient(45deg, #1b2441 25%, transparent 25%),
        linear-gradient(-45deg, #1b2441 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, #1b2441 75%),
        linear-gradient(-45deg, transparent 75%, #1b2441 75%);
      background-size: 24px 24px;
      background-position: 0 0, 0 12px, 12px -12px, -12px 0px;
    }

    /* Chart.js mobile responsiveness */
    .chart-container {
      position: relative;
      width: 100%;
    }
    
    @media (max-width: 640px) {
      .chart-container {
        height: 300px !important;
      }
      
      .chart-container canvas {
        max-width: 100% !important;
        height: auto !important;
      }
    }

    /* Resize handles */
    .resize-handle {
      position: relative;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    .resize-handle-vertical {
      width: 8px;
      height: 100%;
      cursor: col-resize;
      background: transparent;
      border-left: 1px solid transparent;
      transition: all 0.2s ease;
    }

    .resize-handle-vertical:hover {
      background: rgba(110, 168, 254, 0.1);
      border-left: 1px solid #6ea8fe;
    }

    .resize-handle-vertical:active,
    .resize-handle-vertical.dragging {
      background: rgba(110, 168, 254, 0.2);
      border-left: 2px solid #6ea8fe;
      cursor: col-resize;
    }

    /* Visual indicator dots */
    .resize-handle-vertical::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 2px;
      height: 20px;
      background: #a9b4d0;
      border-radius: 1px;
      opacity: 0.3;
      transition: opacity 0.2s ease;
    }

    .resize-handle-vertical:hover::before,
    .resize-handle-vertical.dragging::before {
      opacity: 0.8;
      background: #6ea8fe;
    }

    /* Hide resize handles on mobile */
    @media (max-width: 980px) {
      .resize-handle {
        display: none;
      }
    }
    
    /* Fix for Blockly flyout scroll issues */
    .blocklyFlyout {
      overflow: hidden !important;
    }
    
    .blocklyFlyoutScrollbar {
      display: none !important;
    }
    
    /* Ensure proper sizing for Blockly workspace */
    .blocklySvg {
      display: block;
    }
    
    /* Fix for scrollbars appearing when not needed */
    .blocklyToolboxDiv::-webkit-scrollbar {
      display: none;
    }
    
    .blocklyToolboxDiv {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
</head>
<body class="m-0 p-0">
  <div id="root"></div>
  
  <!-- Include React bundle -->
  <script src="react-bundle.js"></script>
</body>
</html>